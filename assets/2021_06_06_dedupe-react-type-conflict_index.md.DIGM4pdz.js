import{_ as t,a,o as r,X as n}from"./chunks/framework.Cp7KI1mb.js";const u=JSON.parse('{"title":"YarnとReactとTypeScriptとDuplicate identifierエラー","description":"","frontmatter":{"layout":"post","title":"YarnとReactとTypeScriptとDuplicate identifierエラー","category":"programming","tags":["react","typescript","yarn","renovate","TIL"],"head":[["link",{"rel":"canonical","href":"https://www.codingfeline.com/2021/06/06/dedupe-react-type-conflict/"}],["meta",{"property":"og:url","content":"https://www.codingfeline.com/2021/06/06/dedupe-react-type-conflict/"}],["meta",{"property":"og:title","content":"YarnとReactとTypeScriptとDuplicate identifierエラー"}],["meta",{"property":"twitter:card","content":"summary_large_image"}],["meta",{"property":"twitter:site","content":"@_yshrsmz"}],["meta",{"property":"twitter:creator","content":"@_yshrsmz"}],["meta",{"property":"og:image","content":"https://www.codingfeline.com/2021/06/06/dedupe-react-type-conflict/ogp.png"}]]},"headers":[],"relativePath":"2021/06/06/dedupe-react-type-conflict/index.md","filePath":"posts/2021/2021-06-06-dedupe-react-type-conflict.md","date":{"time":"2021-06-06","string":"June 6, 2021","year":"2021","month":"06","day":"06"}}'),p={name:"2021/06/06/dedupe-react-type-conflict/index.md"};function o(i,e,c,s,d,l){return r(),a("div",null,[...e[0]||(e[0]=[n(`<p>React と TypeScript で使っていると、型定義の更新時に下記のようなエラーに遭遇することがある</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Run yarn app:build</span></span>
<span class="line"><span>Error: ../../node_modules/@types/react-dom/node_modules/@types/react/index.d.ts(3047,14): error TS2300: Duplicate identifier &#39;LibraryManagedAttributes&#39;.</span></span>
<span class="line"><span>Error: ../../node_modules/@types/react/index.d.ts(3047,14): error TS2300: Duplicate identifier &#39;LibraryManagedAttributes&#39;.</span></span>
<span class="line"><span>Error: Process completed with exit code 2.</span></span></code></pre></div><p>@types/react の型定義が複数あって解決に失敗している感じ。</p><p><code>yarn.lock</code> を作り直せばもちろん解決できるんだけど、もっとスマートなやり方があった。</p><p>yarn v1 だったら <a href="https://github.com/atlassian/yarn-deduplicate" target="_blank" rel="noreferrer">atlassian/yarn-deduplicate</a> を使えばいいし、 yarn v2 だったらビルトインコマンドの <a href="https://yarnpkg.com/cli/dedupe" target="_blank" rel="noreferrer"><code>yarn dedupe</code></a> を使えばよい。</p><p>renovate を利用してパッケージ更新をしているなら、<a href="https://docs.renovatebot.com/configuration-options/#postupdateoptions" target="_blank" rel="noreferrer">postUpdateOptions</a> で <code>yarnDedupeFewer</code> か <code>yarnDedupeHighest</code> を設定してあげればいい感じにしてくれそう。</p>`,6)])])}const m=t(p,[["render",o]]);export{u as __pageData,m as default};
