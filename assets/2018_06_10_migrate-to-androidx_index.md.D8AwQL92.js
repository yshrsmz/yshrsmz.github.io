import{_ as o,a as e,o as r,X as a}from"./chunks/framework.Cp7KI1mb.js";const g=JSON.parse('{"title":"Supportライブラリからandroidxに移行する","description":"","frontmatter":{"layout":"post","title":"Supportライブラリからandroidxに移行する","category":"programming","tags":["TIL","Android","kotlin"],"head":[["link",{"rel":"canonical","href":"https://www.codingfeline.com/2018/06/10/migrate-to-androidx/"}],["meta",{"property":"og:url","content":"https://www.codingfeline.com/2018/06/10/migrate-to-androidx/"}],["meta",{"property":"og:title","content":"Supportライブラリからandroidxに移行する"}],["meta",{"property":"twitter:card","content":"summary_large_image"}],["meta",{"property":"twitter:site","content":"@_yshrsmz"}],["meta",{"property":"twitter:creator","content":"@_yshrsmz"}],["meta",{"property":"og:image","content":"https://www.codingfeline.com/2018/06/10/migrate-to-androidx/ogp.png"}]]},"headers":[],"relativePath":"2018/06/10/migrate-to-androidx/index.md","filePath":"posts/2018/2018-06-10-migrate-to-androidx.md","date":{"time":"2018-06-10","string":"June 10, 2018","year":"2018","month":"06","day":"10"}}'),i={name:"2018/06/10/migrate-to-androidx/index.md"};function d(n,t,l,p,c,s){return r(),e("div",null,[...t[0]||(t[0]=[a('<p>個人で作っているアプリを、SupportライブラリからAndroidxに移行した。<br> いくつかハマりどころがあった。</p><p>基本的には、</p><ol><li>Android Studioを3.2 Canaryに変更する</li><li>Android Gradle Pluginを<code>3.2.0-alpha17</code>以降に上げる</li><li><code>targetSdkVersion</code>と<code>compileSdkVersion</code>を28に変更</li><li>Android Studioで<code>Refactor &gt; Refactor to AndroidX</code>でコード書き換え</li></ol><p>でOK、らしい。</p><p>ただ<code>build.gradle</code>で指定していたライブラリの依存関係が、変数使って外出ししていた関係か更新されなかった。<br> そこは<a href="https://developer.android.com/topic/libraries/support-library/refactor" target="_blank" rel="noreferrer">公式の新旧アーティファクトID対応表</a>を見て自分で修正する必要があった。</p><p>他にもいくつかあって、</p><ul><li><code>ConstraintLayout</code>のパッケージ名が<code>androidx.constraintlayout.widget.XXXX</code>(実際は<code>androidx.constraintlayout.XXXX</code>)</li><li>androidx系のクラスがfully qualified nameでコード内に書かれてしまうので、importに変更する</li><li>一部クラスがそもそもimport文消された上にfully qualified nameに更新されず、参照エラーになってしまうのでimport文追加する <ul><li>私の環境ではArchitecture Componentsの<code>ViewModel</code>系がこのパターンになっていた？</li></ul></li></ul><p>だいたいこんな感じ。</p><p>dagger-androidとかサポートライブラリに依存してるやつは勝手に修正してくれるらしく、そのまま使うことができた。</p><p>参考: <a href="https://github.com/google/flexbox-layout/pull/436" target="_blank" rel="noreferrer">Convert the project to androidx. by thagikura · Pull Request #436 · google/flexbox-layout</a></p><h3 id="※2018-06-13追記" tabindex="-1">※2018/06/13追記 <a class="header-anchor" href="#※2018-06-13追記" aria-label="Permalink to &quot;※2018/06/13追記&quot;">​</a></h3><p><a href="https://androidstudio.googleblog.com/2018/06/constraintlayout-112.html" target="_blank" rel="noreferrer">ConstraintLayout 1.1.2がリリースされ</a>、上記のパッケージが違う問題は修正されました。</p>',12)])])}const u=o(i,[["render",d]]);export{g as __pageData,u as default};
