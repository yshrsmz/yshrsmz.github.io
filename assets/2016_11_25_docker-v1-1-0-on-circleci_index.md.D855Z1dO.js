import{_ as s,a as i,o as a,X as c}from"./chunks/framework.Cp7KI1mb.js";const h=JSON.parse('{"title":"CircleCIでDocker v1.10.0を使う","description":"","frontmatter":{"layout":"post","title":"CircleCIでDocker v1.10.0を使う","category":"programming;","tags":["docker","circleci","TIL"],"head":[["link",{"rel":"canonical","href":"https://www.codingfeline.com/2016/11/25/docker-v1-1-0-on-circleci/"}],["meta",{"property":"og:url","content":"https://www.codingfeline.com/2016/11/25/docker-v1-1-0-on-circleci/"}],["meta",{"property":"og:title","content":"CircleCIでDocker v1.10.0を使う"}],["meta",{"property":"twitter:card","content":"summary_large_image"}],["meta",{"property":"twitter:site","content":"@_yshrsmz"}],["meta",{"property":"twitter:creator","content":"@_yshrsmz"}],["meta",{"property":"og:image","content":"https://www.codingfeline.com/2016/11/25/docker-v1-1-0-on-circleci/ogp.png"}]]},"headers":[],"relativePath":"2016/11/25/docker-v1-1-0-on-circleci/index.md","filePath":"posts/2016/2016-11-25-docker-v1-1-0-on-circleci.md","date":{"time":"2016-11-25","string":"November 25, 2016","year":"2016","month":"11","day":"25"}}'),r={name:"2016/11/25/docker-v1-1-0-on-circleci/index.md"};function t(o,e,n,l,p,d){return a(),i("div",null,[...e[0]||(e[0]=[c(`<h1 id="※-circleci-v2-0でdockerに完全対応したので、以下の情報は古いです" tabindex="-1">※ CircleCI v2.0でDockerに完全対応したので、以下の情報は古いです <a class="header-anchor" href="#※-circleci-v2-0でdockerに完全対応したので、以下の情報は古いです" aria-label="Permalink to &quot;※ CircleCI v2.0でDockerに完全対応したので、以下の情報は古いです&quot;">​</a></h1><p>CircleCIに入ってるDocker、ちょっとバージョンが古いみたいで<code>docker run</code>とか<code>docker pull</code>とかすると<code>hub.docker.com</code>ではなく<code>docker.io</code>に見に行ってしまいます。</p><p>で、<code>docker.io</code>はすでに廃止されているので<code>docker.com</code>にリダイレクトされ、<code>docker.com</code>の下に指定したimageがあるかどうか確認してしまうので、下記のようなエラーになってしまいます。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker.io/yshrsmz/docker-whale</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> found</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker.io/yshrsmz/docker-whale</span></span></code></pre></div><p>で、どうにか新しいDocker使いたいな〜と思っていろいろ試してたら、公式フォーラムで発見しました。</p><p><a href="https://discuss.circleci.com/t/docker-1-10-0-is-available-beta/2100" target="_blank" rel="noreferrer">Docker 1.10.0 is available(Beta)</a></p><p>記事自体は2016年2月のもので、これを書いてる時点でもう9ヶ月前です。<br> ただ、現状これより新しいものは見当たらないのでCircleCIで使えるDockerは2016年11月現在v1.10.0が最新のようです。</p><p>circle.yml的にはこんな感じ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>machine:</span></span>
<span class="line"><span>  pre:</span></span>
<span class="line"><span>    - curl -sSL https://s3.amazonaws.com/circle-downloads/install-circleci-docker.sh | bash -s -- 1.10.0</span></span>
<span class="line"><span>  services:</span></span>
<span class="line"><span>    - docker</span></span></code></pre></div><p>パラメータでバージョン指定してるから<code>1.12.3</code>とか指定したら新しいの使えるかな…？って思ったら無理でした。ファイル見たら<code>1.10.0</code>の分岐しかなかったです。</p><p>CircleCIではDockerにパッチを当てて使っているようですが、v1.10.0で使っていたLXC exec driverが削除されてしまったのでアレなことになっているみたいです。</p>`,11)])])}const m=s(r,[["render",t]]);export{h as __pageData,m as default};
