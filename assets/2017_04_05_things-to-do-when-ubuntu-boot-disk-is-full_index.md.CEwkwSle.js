import{_ as s,a as t,o as a,X as e}from"./chunks/framework.Cp7KI1mb.js";const F=JSON.parse('{"title":"(Ubuntu) /bootの容量がなくなった時にすること","description":"","frontmatter":{"layout":"post","title":"(Ubuntu) /bootの容量がなくなった時にすること","category":"programming","tags":["TIL","ubuntu"],"head":[["link",{"rel":"canonical","href":"https://www.codingfeline.com/2017/04/05/things-to-do-when-ubuntu-boot-disk-is-full/"}],["meta",{"property":"og:url","content":"https://www.codingfeline.com/2017/04/05/things-to-do-when-ubuntu-boot-disk-is-full/"}],["meta",{"property":"og:title","content":"(Ubuntu) /bootの容量がなくなった時にすること"}],["meta",{"property":"twitter:card","content":"summary_large_image"}],["meta",{"property":"twitter:site","content":"@_yshrsmz"}],["meta",{"property":"twitter:creator","content":"@_yshrsmz"}],["meta",{"property":"og:image","content":"https://www.codingfeline.com/2017/04/05/things-to-do-when-ubuntu-boot-disk-is-full/ogp.png"}]]},"headers":[],"relativePath":"2017/04/05/things-to-do-when-ubuntu-boot-disk-is-full/index.md","filePath":"posts/2017/2017-04-05-things-to-do-when-ubuntu-boot-disk-is-full.md","date":{"time":"2017-04-05","string":"April 5, 2017","year":"2017","month":"04","day":"05"}}'),h={name:"2017/04/05/things-to-do-when-ubuntu-boot-disk-is-full/index.md"};function n(l,i,p,k,r,o){return a(),t("div",null,[...i[0]||(i[0]=[e('<h1 id="ubuntu-bootの容量がなくなった時にすること" tabindex="-1">[Ubuntu] /bootの容量がなくなった時にすること <a class="header-anchor" href="#ubuntu-bootの容量がなくなった時にすること" aria-label="Permalink to &quot;[Ubuntu] /bootの容量がなくなった時にすること&quot;">​</a></h1><h2 id="tl-dr" tabindex="-1">TL;DR <a class="header-anchor" href="#tl-dr" aria-label="Permalink to &quot;TL;DR&quot;">​</a></h2><p>古いカーネルを削除する</p><h2 id="すること" tabindex="-1">すること <a class="header-anchor" href="#すること" aria-label="Permalink to &quot;すること&quot;">​</a></h2><ol><li>現在のカーネルを確認する</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span></code></pre></div><ol start="2"><li>インストール済みの古いカーネルを確認する</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-{image,headers}-&quot;[0-9]*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/^ii/{ print $2}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f1,2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[0-9]&#39;</span></span></code></pre></div><p>上記コマンドで出てきたリストに、現在のカーネルが含まれないことを確認</p><ol start="3"><li>apt-getでpurge</li></ol><p>2で得た一覧を<code>apt-get purge</code>に食わせる</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> linux-{image,headers}-&quot;[0-9]*&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/^ii/{ print $2}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cut</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f1,2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;[0-9]&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> purge</span></span></code></pre></div><p>以上。</p><hr><h3 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h3><ul><li><a href="http://askubuntu.com/questions/89710/how-do-i-free-up-more-space-in-boot" target="_blank" rel="noreferrer">How do I free up more space in /boot? - Ask Ubuntu</a></li></ul>',16)])])}const g=s(h,[["render",n]]);export{F as __pageData,g as default};
