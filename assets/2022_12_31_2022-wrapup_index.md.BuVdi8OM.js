import{_ as t,o as a,a as r,X as i}from"./chunks/framework.BPPv2K3c.js";const m=JSON.parse('{"title":"2022年を振り返って","description":"","frontmatter":{"layout":"post","title":"2022年を振り返って","category":"diary","tags":["diary"],"head":[["link",{"rel":"canonical","href":"https://www.codingfeline.com/2022/12/31/2022-wrapup/"}],["meta",{"property":"og:url","content":"https://www.codingfeline.com/2022/12/31/2022-wrapup/"}],["meta",{"property":"og:title","content":"2022年を振り返って"}],["meta",{"property":"twitter:card","content":"summary_large_image"}],["meta",{"property":"twitter:site","content":"@_yshrsmz"}],["meta",{"property":"twitter:creator","content":"@_yshrsmz"}],["meta",{"property":"og:image","content":"https://www.codingfeline.com/2022/12/31/2022-wrapup/ogp.png"}]]},"headers":[],"relativePath":"2022/12/31/2022-wrapup/index.md","filePath":"posts/2022/2022-12-31-2022-wrapup.md","date":{"time":"2022-12-31","string":"December 31, 2022","year":"2022","month":"12","day":"31"}}'),o={name:"2022/12/31/2022-wrapup/index.md"};function l(n,e,p,d,h,s){return a(),r("div",null,[...e[0]||(e[0]=[i('<p>2022年を振り返るよ。<br> 買ってよかったもののまとめは<a href="/2022/12/26/bestbuy2022/">こちら</a></p><p><strong>目次</strong></p><nav class="table-of-contents"><ul><li><a href="#仕事">仕事</a><ul><li><a href="#androidアプリにjetpack-compose導入した">AndroidアプリにJetpack Compose導入した</a></li><li><a href="#社内副業">社内副業</a></li><li><a href="#nuxt-jsで既存サービスのリニューアル-進行中">Nuxt.jsで既存サービスのリニューアル(進行中)</a></li></ul></li><li><a href="#個人-プロジェクト">個人(プロジェクト)</a><ul><li><a href="#chrome拡張機能版omnitweetyのmanifest-v3対応-リファクタ">Chrome拡張機能版OmnitweetyのManifest v3対応 &amp; リファクタ</a></li><li><a href="#androiddagashiのuiリニューアル">AndroidDagashiのUIリニューアル</a></li></ul></li><li><a href="#個人-エンタメ">個人(エンタメ)</a><ul><li><a href="#今年遊んだゲーム">今年遊んだゲーム</a></li></ul></li><li><a href="#個人-生活">個人(生活)</a><ul><li><a href="#kindle-1ヶ月1万円生活">Kindle 1ヶ月１万円生活</a></li><li><a href="#大猫が癌になった">大猫が癌になった</a></li><li><a href="#covidにかかった">COVIDにかかった</a></li></ul></li></ul></nav><h2 id="仕事" tabindex="-1">仕事 <a class="header-anchor" href="#仕事" aria-label="Permalink to &quot;仕事&quot;">​</a></h2><p>今年も去年に引き続き、Webフロントの案件が多い一年だった。</p><p>全体的な役割としては、アプリ(Android/iOS)チームとWebフロントチームのリード、あとはサービス全体の技術責任者、になるのだろうか。なんか色々なことに手を出してて大変になりつつある気はする。IC的な働き方ができれば一番いいんだけど、チームも小さいし、そもそも今の会社ではそういうキャリアパスはあんま整ってなさそうな雰囲気を感じる。まあサービス的な結果を出せていれば技術的には結構好きにやらせてもらえるので、その点は満足している。</p><h3 id="androidアプリにjetpack-compose導入した" tabindex="-1">AndroidアプリにJetpack Compose導入した <a class="header-anchor" href="#androidアプリにjetpack-compose導入した" aria-label="Permalink to &quot;AndroidアプリにJetpack Compose導入した&quot;">​</a></h3><p>すべりこみで一画面Jetpack Compose化できた。<br> Compose Compiler の Kotlin バージョンアップ対応が結構遅いので、Kotlin Multiplatform Project で新機能使いたくてもなかなか更新できない、というのが地味にストレスだった。KSPくらいのペースで追随してってくれるとありがたいのだけれども。</p><p>Android 開発の新標準を使いたいと思うと Kotlin Multiplatform Project の新機能使えない、というのはなにか本末転倒的というか、釈然としない。まあ Compose Compiler のバージョン制約を強制的にオフにする、という選択肢もないわけじゃないのでそのへんもしっかり検証していくべきか。</p><h3 id="社内副業" tabindex="-1">社内副業 <a class="header-anchor" href="#社内副業" aria-label="Permalink to &quot;社内副業&quot;">​</a></h3><p>ちょっと別チームが作ってるOSSの書き直ししたりした。<br> Fluxやろうとしたもののイベントバスで各所がスパゲッティになっちゃってた感じだったのを、丹念に解きほぐしてシュッとさせた感じ。</p><p>社内副業なので実質残業だったりするわけで、ゴリゴリ自分の時間が減っていく。副業的なもの一度やってみたかったし面白くはあったけど、自分には副業向いてないなー、と思った。お金になるのはありがたいけど、この時間で何かしら自分のコード書きたい。</p><h3 id="nuxt-jsで既存サービスのリニューアル-進行中" tabindex="-1">Nuxt.jsで既存サービスのリニューアル(進行中) <a class="header-anchor" href="#nuxt-jsで既存サービスのリニューアル-進行中" aria-label="Permalink to &quot;Nuxt.jsで既存サービスのリニューアル(進行中)&quot;">​</a></h3><p>これも引き続きの案件。</p><p>今年は単純なリニューアルだけでなく、大規模な新機能追加が二件あった。今年はわりとマネジメントやったりCI/CDの整備とか周辺固めるような動き方がメインだった気がする。</p><p>来年は１件新規アプリの作成が決定してるから、そこで Nuxt3 の検証をしつつ、Nuxt2 で作ってる本家アプリの Nuxt3 移行準備を進める予定。</p><p>Nuxt/Bridge も試してみたけど、まだうまく動かない印象。Nuxt3 のバックポートである <a href="https://github.com/nuxt/nuxt.js/pull/9660" target="_blank" rel="noreferrer">Nuxt 2.16.0</a> がリリースされてからが本番かも。</p><h2 id="個人-プロジェクト" tabindex="-1">個人(プロジェクト) <a class="header-anchor" href="#個人-プロジェクト" aria-label="Permalink to &quot;個人(プロジェクト)&quot;">​</a></h2><p>今年は社内副業に結構時間取られたりしてあまり目に見える成果に結びつかなかった。</p><p>ちょこちょこ CodeMirror とか Jetpack Compose の Glance(AppWidgetの方)触ったりはしていたので、来年は何かしら形にしたい。</p><h3 id="chrome拡張機能版omnitweetyのmanifest-v3対応-リファクタ" tabindex="-1">Chrome拡張機能版OmnitweetyのManifest v3対応 &amp; リファクタ <a class="header-anchor" href="#chrome拡張機能版omnitweetyのmanifest-v3対応-リファクタ" aria-label="Permalink to &quot;Chrome拡張機能版OmnitweetyのManifest v3対応 &amp; リファクタ&quot;">​</a></h3><p>Chrome拡張機能の仕様が大幅に変わってて、対応期限がだいぶ迫ってきたので対応するための更新を行った。ついでにコードを１から書き直してみた。</p><table tabindex="0"><thead><tr><th></th><th>Before</th><th>After</th></tr></thead><tbody><tr><td>Vue</td><td>Vue2</td><td>Vue3</td></tr><tr><td>状態管理</td><td>Vuex</td><td>-</td></tr><tr><td>UIライブラリ</td><td>Vuetify</td><td>tailwindCSS x Headless UI</td></tr><tr><td>ビルドツール</td><td>Webpack</td><td>Vite</td></tr><tr><td>Chrome拡張機能開発ツール</td><td>Webpack/手動</td><td><a href="https://github.com/crxjs/chrome-extension-tools" target="_blank" rel="noreferrer">@crxjs/chrome-extension-tools</a></td></tr></tbody></table><p><a href="https://github.com/crxjs/chrome-extension-tools" target="_blank" rel="noreferrer">@crxjs/chrome-extension-tools</a>が便利で、Manifest周りの作成と開発時のホットリロードが大変助かった。</p><p>UI は Vuetify から tailwindCSS と、一部めんどいコンポーネントだけ Headless UI という構成に書き換えた。Vuetify もサッと UI 組むぶんにはそれなりのものができていいんだけど、ちょっと凝ったものを作ろうと思うとVuetifyの作法を知った上で色々カスタマイズしなきゃならないのが微妙だなー、と思った次第。ある程度 HTML/CSS 書けるのであれば、結局自分で組んでしまったほうが楽。あとはまあ、別件で <a href="https://tailwindui.com/" target="_blank" rel="noreferrer">tailwind UI</a> 課金してた、というのもデカい。</p><p>Manifest v3 では background script が Service Worker になる関係で LocalStorage にアクセスできなくなる点が、Omnitweety 的には一番大きい変更点だった。<br> しかしこれも Chrome Storage API へのマイグレーションコードを一度書いてしまえばそれで済む話なので、特に問題なく移行できた。</p><p>あああとめんどくさかった点で言えば、気がついたらまた Twitter の OAuth 認証を自前実装していた。Node.js 対応の OAuth ライブラリは結構あるんだけど、クライアント側での動作に対応してるライブラリはあまりなかった。あるいはあってもメンテが止まってたり。旧バージョンの Omnitweety は browserify の互換モジュール使って無理やり動かしてたんだけど、そのモジュールもやっぱりメンテ止まってるしよーわからなかったので自分で実装してしまった。</p><p>以前作った <a href="https://github.com/yshrsmz/twitter4kt" target="_blank" rel="noreferrer">yshrsmz/twitter4kt</a> が一応 Kotlin Multiplatform Project で実装してあるのでそれを Kotlin/JS に対応させて使っても良かったんだけど、それもめんどくさくて再実装。そもそもクライアント側でリクエストしないほうがいいのではとか色々論点はあるけどまあ仕方ない。ブラウザ側の暗号APIが触れたのは良かったかな。</p><p>レポジトリはこちら: <a href="https://github.com/yshrsmz/omnitweety" target="_blank" rel="noreferrer">yshrsmz/omnitweety</a><br> Chrome Web Store はこちら: <a href="https://chrome.google.com/webstore/detail/omnitweety/jkghejckpigfbolkdkplfokccgpjjilb" target="_blank" rel="noreferrer">Omnitweety</a></p><h3 id="androiddagashiのuiリニューアル" tabindex="-1">AndroidDagashiのUIリニューアル <a class="header-anchor" href="#androiddagashiのuiリニューアル" aria-label="Permalink to &quot;AndroidDagashiのUIリニューアル&quot;">​</a></h3><p><a href="https://androiddagashi.github.io/" target="_blank" rel="noreferrer">https://androiddagashi.github.io/</a></p><p>Vuetify を消して tailwindCSS を利用したフルスクラッチにリニューアルした。</p><p>tailwind UI や Zenn など参考にしつつ、だいぶシンプルでいい感じに仕上がったと思う。</p><p>来年はこれも Nuxt3 へ移行予定。</p><h2 id="個人-エンタメ" tabindex="-1">個人(エンタメ) <a class="header-anchor" href="#個人-エンタメ" aria-label="Permalink to &quot;個人(エンタメ)&quot;">​</a></h2><h3 id="今年遊んだゲーム" tabindex="-1">今年遊んだゲーム <a class="header-anchor" href="#今年遊んだゲーム" aria-label="Permalink to &quot;今年遊んだゲーム&quot;">​</a></h3><p>メインシナリオクリアまで遊んだのはこの辺。</p><ul><li>Horizon Forbiddn West</li><li>Elden Ring</li><li>十三機兵防衛圏</li><li>Stray</li><li>スプラトゥーン3</li><li>ポケットモンスター バイオレット</li><li>エースコンバット7</li></ul><p>その他 Ghostwire: Tokyo とか アノー：ミューテーショネム とか GTA5 とか、途中で放置してるのもいくつか…。アノー：ミューテーショネム は雰囲気いいので最後までやりたいなあ。今年は Steam Deck も手に入れたので、来年からは積みゲーが一層捗りそう。</p><h2 id="個人-生活" tabindex="-1">個人(生活) <a class="header-anchor" href="#個人-生活" aria-label="Permalink to &quot;個人(生活)&quot;">​</a></h2><h3 id="kindle-1ヶ月1万円生活" tabindex="-1">Kindle 1ヶ月１万円生活 <a class="header-anchor" href="#kindle-1ヶ月1万円生活" aria-label="Permalink to &quot;Kindle 1ヶ月１万円生活&quot;">​</a></h3><p>ふと思い立って明細数え上げてみたら、Kindle で毎月数万(詳細に書くと自分もビビるのでごまかす)使っていたらしい。Twitterやらなんやらで面白いマンガを見つけるとすぐに全巻揃えてしまうのがだいたいよくない(が、止められない)</p><p>Amazon が予算管理機能つけてくれないのがすべての元凶なんだけど、流石にどうにかしないとなー、と思って制限をかけてみた。<br> もちろん決めただけの制限なんて一週間ももたずに破綻するので、なんとか仕組み化してみる。</p><p>そこで導入したのがプリペイドのクレジットカード。色々選択肢はあるけど、今回は SMBC のVポイントアプリで使える、リアルカードのないクレジットカードにしてみた(なおメインバンクが SMBC だなー、Amazon クレカも裏側はSMBCだなー、という程度で決めたので効率についてはあまり検討できていない)。</p><p>給料日になったらこのカードに1万円チャージして、Kindleの決済はすべてこれで行おう、という計画である。<br> 幸い Kindle 用のカード、とか設定できたので一度設定したらあとはかんたんだった。</p><p>もちろん Amazon クレカでの決済よりはポイントの還元率下がるんだけど、上限なし買い放題よりはマシかな、という判断。</p><p>8月末くらいからこの運用にしているけど、今のところはうまくいっている。とはいえだいたい一週間くらいで予算消化してしまうことも多く、欲しい物リストが膨れ上がる日々が続いている。</p><h3 id="大猫が癌になった" tabindex="-1">大猫が癌になった <a class="header-anchor" href="#大猫が癌になった" aria-label="Permalink to &quot;大猫が癌になった&quot;">​</a></h3><p>３匹いるうちの、一番古参のメインクーン雄。</p><p>8月の健康診断でしこりが見つかって、大学病院にいって検査したら線維肉腫だった。</p><p>で、9月に手術して一応取れたはずだったんだけど11月にまたしこりぽいものに気づいて、また大学病院で検査したら再発だった。今度は大きすぎて取り切れないし、前回手術で切除した箇所の両側？にできてしまっている、ということで手術はなしに。余命、長くても半年くらい。</p><p>8月に健康診断でしこり見つかったときは「なんでこんな大きなしこりに気づかなかったんだろう？」ってちょっと落ち込んだけど、9月末の術後から10月末〜11月頭の再発見までを考えると、ほんとにすごい速度で癌大きくなっていることがわかり、「これはまじで注意してないとわからんわ」となんか納得した。猫は人間の4倍早く歳を取る、というけれどホントに一瞬でしこりできて大きくなるので癌やばい。</p><p>とりあえず来るべき日に向けて、本猫には少しでも快適に過ごしてもらいたい…と試行錯誤中。</p><p>今9歳だから、長ければこの倍くらいは一緒にいられると思ってたのになあ。</p><h3 id="covidにかかった" tabindex="-1">COVIDにかかった <a class="header-anchor" href="#covidにかかった" aria-label="Permalink to &quot;COVIDにかかった&quot;">​</a></h3><p>12月に社用で沖縄に行ったらもらってきてしまった。</p><p>ワクチンは３回接種済みだけどかかるときはかかる。でも熱もそこまで上がらず(38度前半)、三日目からは仕事できるくらいには回復したからやはりワクチンは偉大。ちなみに４回接種済みの妻も、最終的に感染はしたものの感染するのも遅かったし熱も症状もほとんど出なかった。ワクチンは偉大。</p><p>罹患中は鼻が全く効かなくなって焦ったけど、治ったあとは嗅覚も戻ってきたので一安心。後遺症的には咳と痰が残ってるので、年明けに後遺症外来とか行って見る予定。</p><hr><p>そんな感じの2022年だった。<br> 来年はもーちょい個人プロジェクトの時間増やしたい</p>',60)])])}const u=t(o,[["render",l]]);export{m as __pageData,u as default};
